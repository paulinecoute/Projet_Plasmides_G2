<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}InSillyClo{% endblock %}</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
</head>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<body>
    <!-- Navbar -->
    <header class="navbar navbar-expand-lg navbar-dark sticky-top bg-dark">
    <nav class="container-xxl bd-gutter flex-wrap flex-lg-nowrap" aria-label="Main navigation">
        <a class="navbar-brand p-0 me-0 me-lg-2" href="{% url 'home' %}">
        InSillyClo
        </a>

         <!-- Bouton pour afficher le menu en mode mobile -->
        <button class="navbar-toggler d-flex d-lg-none order-3 p-2" type="button" data-bs-toggle="offcanvas" data-bs-target="#bdNavbar" aria-controls="bdNavbar" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Conteneur du menu (offcanvas pour mobile, barre horizontale pour desktop) -->
        <div class="offcanvas-lg offcanvas-end flex-grow-1 bg-dark" id="bdNavbar" aria-labelledby="bdNavbarOffcanvasLabel">
            <!-- En-tête du menu (visible uniquement en mode mobile) -->
            <div class="offcanvas-header px-4 pb-0">
                <h5 class="offcanvas-title text-white" id="bdNavbarOffcanvasLabel">InSillyClo</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Close" data-bs-target="#bdNavbar"></button>
            </div>

            <!-- Corps du menu -->
            <div class="offcanvas-body p-4 pt-0 p-lg-0">
                <!-- Séparateur (visible uniquement en mode mobile) -->
                <hr class="d-lg-none text-white-50">

                <!-- Liste des liens principaux -->
                <ul class="navbar-nav flex-row flex-wrap bd-navbar-nav">
                <li class="nav-item col-6 col-lg-auto">
                    <a class="nav-link py-2 px-0 px-lg-2" href="{% url 'home' %}">Accueil</a>
                </li>
                <li class="nav-item col-6 col-lg-auto">
                    <a class="nav-link py-2 px-0 px-lg-2" href="{% url 'create_template' %}">Créer un Template</a>
                </li>
                <li class="nav-item col-6 col-lg-auto">
                    <a class="nav-link py-2 px-0 px-lg-2" href="{% url 'simulation' %}">Simulation</a>
                </li>
                <li class="nav-item col-6 col-lg-auto">
                    <a class="nav-link py-2 px-0 px-lg-2" href="{% url 'search' %}">Recherche</a>
                </li>
                </ul>

                <!-- Séparateur (visible uniquement en mode mobile) -->
                <hr class="d-lg-none text-white-50">

                <!-- Liste des liens secondaires (icônes et thème) -->
                <ul class="navbar-nav flex-row flex-wrap ms-md-auto">

                <!-- Séparateur vertical (visible uniquement en desktop) -->
                <li class="nav-item py-2 py-lg-1 col-12 col-lg-auto">
                    <div class="vr d-none d-lg-flex h-100 mx-lg-2 text-white"></div>
                    <hr class="d-lg-none my-2 text-white-50">
                </li>

                <!-- Connexion/Déconnexion -->
                {% if user.is_authenticated %}
                <li class="nav-item dropdown">
                    <button class="btn btn-link nav-link dropdown-toggle d-flex align-items-center" id="userDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="bi bi-person-circle me-1"></i>
                        <span class="d-lg-inline d-none">{{ user.username }}</span>
                        <span class="d-lg-none ms-2">Compte</span>
                    </button>

                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
                        <li>
                            <a class="dropdown-item d-flex align-items-center" href="{% url 'profile' %}">
                                <i class="bi bi-person me-2"></i>
                                Mon profil
                            </a>
                        </li>

                        <li><hr class="dropdown-divider"></li>

                        <li>
                            <form action="{% url 'logout' %}" method="post" class="m-0">
                                {% csrf_token %}
                                <button type="submit" class="dropdown-item d-flex align-items-center text-danger">
                                    <i class="bi bi-box-arrow-right me-2"></i>
                                    Se déconnecter
                                </button>
                            </form>
                        </li>
                    </ul>
                </li>
                {% else %}
                <li class="nav-item col-6 col-lg-auto">
                    <a class="nav-link py-2 px-0 px-lg-2" href="{% url 'login' %}">
                        <i class="bi bi-box-arrow-in-right me-1"></i>
                        Se connecter
                    </a>
                </li>
                {% endif %}
                </ul>
            </div>
        </div>
    </nav>
    </header>


    <!-- Contenu dynamique -->
    <div class="container my-4">
        {% block content %}{% endblock %}
    </div>

<!-- Footer -->
<footer class="bg-dark py-3 mt-auto">
    <div class="container d-flex flex-column flex-lg-row align-items-center justify-content-between gap-2 ext text-white-50">

        <!-- Texte -->
        <p class="mb-0 text-center">Projet AMI2B – Université Paris-Saclay | 2026</p>
        <!-- Lien GitHub -->
        <a class="d-flex align-items-center text-decoration-none text-white-50" href="https://github.com/paulinecoute/Projet_Plasmides_G2" target="_blank" rel="noopener">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" class="me-2" viewBox="0 0 512 499.36" role="img" aria-label="GitHub">
                <path fill="currentColor" fill-rule="evenodd" d="M256 0C114.64 0 0 114.61 0 256c0 113.09 73.34 209 175.08 242.9 12.8 2.35 17.47-5.56 17.47-12.34 0-6.08-.22-22.18-.35-43.54-71.2 15.49-86.2-34.34-86.2-34.34-11.64-29.57-28.42-37.45-28.42-37.45-23.27-15.84 1.73-15.55 1.73-15.55 25.69 1.81 39.21 26.38 39.21 26.38 22.84 39.12 59.92 27.82 74.5 21.27 2.33-16.54 8.94-27.82 16.25-34.22-56.84-6.43-116.6-28.43-116.6-126.49 0-27.95 10-50.8 26.35-68.69-2.63-6.48-11.42-32.5 2.51-67.75 0 0 21.49-6.88 70.4 26.24a242.65 242.65 0 0 1 128.18 0 c48.87-33.13 70.33-26.24 70.33-26.24 14 35.25 5.18 61.27 2.55 67.75 16.41 17.9 26.31 40.75 26.31 68.69 0 98.35-59.85 120-116.88 126.32 9.19 7.9 17.38 23.53 17.38 47.41 0 34.22-.31 61.83-.31 70.23 0 6.85 4.61 14.81 17.6 12.31 C438.72 464.97 512 369.08 512 256.02 512 114.62 397.37 0 256 0z" />
            </svg>
            <span>GitHub</span>
        </a>

    </div>
</footer>

</body>
</html>